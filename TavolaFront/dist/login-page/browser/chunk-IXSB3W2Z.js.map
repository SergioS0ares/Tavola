{
  "version": 3,
  "sources": ["src/app/pages/acesso/confirmar-codigo/confirmar-codigo.component.ts", "src/app/pages/acesso/confirmar-codigo/confirmar-codigo.component.html"],
  "sourcesContent": ["import { Component, type OnInit, inject } from \"@angular/core\"\r\nimport { CommonModule } from \"@angular/common\"\r\nimport { Router, ActivatedRoute } from \"@angular/router\"\r\nimport { FormsModule } from \"@angular/forms\"\r\nimport { ToastrService } from \"ngx-toastr\"\r\n\r\n// NG-ZORRO IMPORTS\r\nimport { NzInputOtpComponent } from \"ng-zorro-antd/input\"\r\nimport { NzButtonModule } from \"ng-zorro-antd/button\"\r\nimport { NzIconModule } from \"ng-zorro-antd/icon\"\r\n\r\n// SEU COMPONENTE DE LAYOUT\r\nimport { DefaultLoginLayoutComponent } from \"../default-login-layout/default-login-layout.component\"\r\n\r\n@Component({\r\n  selector: \"app-confirmar-codigo\",\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    // NG-ZORRO MODULES\r\n    NzButtonModule,\r\n    NzIconModule,\r\n    NzInputOtpComponent,\r\n    // SEU COMPONENTE\r\n    DefaultLoginLayoutComponent,\r\n  ],\r\n  templateUrl: \"./confirmar-codigo.component.html\",\r\n  styleUrls: [\"./confirmar-codigo.component.scss\"],\r\n})\r\nexport class ConfirmarCodigoComponent implements OnInit {\r\n  idUsuario = \"\"\r\n  codigo = \"\"\r\n  carregando = false\r\n  reenviando = false\r\n  hasError = false\r\n  statusMessage = \"\"\r\n  statusType: \"success\" | \"error\" | \"info\" = \"info\"\r\n\r\n  private router = inject(Router)\r\n  private route = inject(ActivatedRoute)\r\n  private toastr = inject(ToastrService)\r\n\r\n  ngOnInit() {\r\n    this.idUsuario = this.route.snapshot.params[\"id\"]\r\n    if (!this.idUsuario) {\r\n      this.toastr.warning(\"Sessão inválida. Redirecionando para login...\")\r\n      this.router.navigate([\"/login\"])\r\n    }\r\n  }\r\n\r\n  onCodigoChange() {\r\n    this.hasError = false\r\n    this.statusMessage = \"\"\r\n\r\n    if (this.codigo.length === 6) {\r\n      this.statusMessage = \"Código completo! Clique em verificar.\"\r\n      this.statusType = \"success\"\r\n    } else if (this.codigo.length > 0) {\r\n      this.statusMessage = `${this.codigo.length}/6 dígitos inseridos`\r\n      this.statusType = \"info\"\r\n    }\r\n  }\r\n\r\n  verificarCodigo() {\r\n    if (!this.isCodigoCompleto()) {\r\n      this.hasError = true\r\n      this.statusMessage = \"Por favor, digite o código completo de 6 dígitos.\"\r\n      this.statusType = \"error\"\r\n      this.toastr.error(\"Por favor, digite o código completo de 6 dígitos.\")\r\n      return\r\n    }\r\n\r\n    this.carregando = true\r\n    this.statusMessage = \"Verificando código...\"\r\n    this.statusType = \"info\"\r\n\r\n    // Simula a validação com a API\r\n    setTimeout(() => {\r\n      if (this.codigo === \"123456\") {\r\n        this.statusMessage = \"Código verificado com sucesso!\"\r\n        this.statusType = \"success\"\r\n        this.toastr.success(\"Conta verificada com sucesso!\")\r\n\r\n        setTimeout(() => {\r\n          this.router.navigate([\"/home\"])\r\n        }, 1000)\r\n      } else {\r\n        this.hasError = true\r\n        this.statusMessage = \"Código inválido ou expirado.\"\r\n        this.statusType = \"error\"\r\n        this.toastr.error(\"Código inválido ou expirado. Tente novamente.\")\r\n        this.limparCodigo()\r\n      }\r\n      this.carregando = false\r\n    }, 1500)\r\n  }\r\n\r\n  reenviarCodigo() {\r\n    this.reenviando = true\r\n    this.statusMessage = \"Reenviando código...\"\r\n    this.statusType = \"info\"\r\n\r\n    // Simula reenvio\r\n    setTimeout(() => {\r\n      this.reenviando = false\r\n      this.statusMessage = \"Novo código enviado para seu e-mail!\"\r\n      this.statusType = \"success\"\r\n      this.toastr.success(\"Novo código enviado!\")\r\n\r\n      // Limpa a mensagem após alguns segundos\r\n      setTimeout(() => {\r\n        this.statusMessage = \"\"\r\n      }, 3000)\r\n    }, 2000)\r\n  }\r\n\r\n  voltarVerificacao() {\r\n    this.router.navigate([\"/verificacao-email\"])\r\n  }\r\n\r\n  isCodigoCompleto(): boolean {\r\n    return this.codigo.length === 6\r\n  }\r\n\r\n  getStatusIcon(): string {\r\n    switch (this.statusType) {\r\n      case \"success\":\r\n        return \"check-circle\"\r\n      case \"error\":\r\n        return \"close-circle\"\r\n      default:\r\n        return \"info-circle\"\r\n    }\r\n  }\r\n\r\n  limparCodigo() {\r\n    this.codigo = \"\"\r\n    this.hasError = false\r\n    this.statusMessage = \"\"\r\n  }\r\n}", "<app-default-login-layout \r\n  title=\"Digite o código de verificação\"\r\n  primaryBtnText=\"Verificar Código\"\r\n  secondaryBtnText=\"Não recebeu o código?\"\r\n  [disablePrimaryBtn]=\"!isCodigoCompleto() || carregando\"\r\n  (submit)=\"verificarCodigo()\"\r\n  (navigate)=\"voltarVerificacao()\">\r\n  \r\n  <div class=\"codigo-content\">\r\n    <!-- Melhorado o ícone com animação e melhor posicionamento -->\r\n    <div class=\"header-icon\" [class.loading]=\"carregando\">\r\n      <div class=\"icon-container\">\r\n        <i nz-icon nzType=\"safety-certificate\" nzTheme=\"outline\"></i>\r\n        <div class=\"loading-spinner\" *ngIf=\"carregando\">\r\n          <i nz-icon nzType=\"loading\" nzSpin></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Melhorada a tipografia e hierarquia visual -->\r\n    <div class=\"content-header\">\r\n      <h3 class=\"main-title\">Verificação de Segurança</h3>\r\n      <p class=\"description\">\r\n        Insira o código de <strong>6 dígitos</strong> que enviamos para seu e-mail\r\n      </p>\r\n    </div>\r\n\r\n    <!-- Melhorado o wrapper dos inputs com melhor espaçamento -->\r\n    <div class=\"codigo-inputs-wrapper\" [class.error]=\"hasError\" [class.success]=\"isCodigoCompleto()\">\r\n      <nz-input-otp \r\n        [nzLength]=\"6\" \r\n        [(ngModel)]=\"codigo\"\r\n        (ngModelChange)=\"onCodigoChange()\">\r\n      </nz-input-otp>\r\n    </div>\r\n    \r\n    <!-- Adicionado feedback visual para estados -->\r\n    <div class=\"status-feedback\" *ngIf=\"statusMessage\">\r\n      <div class=\"status-icon\" [ngClass]=\"statusType\">\r\n        <i nz-icon [nzType]=\"getStatusIcon()\" [nzTheme]=\"statusType === 'error' ? 'fill' : 'outline'\"></i>\r\n      </div>\r\n      <p class=\"status-text\" [ngClass]=\"statusType\">{{ statusMessage }}</p>\r\n    </div>\r\n    \r\n    <!-- Melhorado o texto de ajuda com melhor hierarquia -->\r\n    <div class=\"help-section\">\r\n      <div class=\"help-text\">\r\n        <p class=\"timer-text\">\r\n          <i nz-icon nzType=\"clock-circle\" nzTheme=\"outline\"></i>\r\n          O código expira em <span class=\"highlight\">10 minutos</span>\r\n        </p>\r\n        <p class=\"instruction-text\">\r\n          Certifique-se de digitá-lo corretamente\r\n        </p>\r\n      </div>\r\n      \r\n      <!-- Adicionado botão para reenviar código -->\r\n      <div class=\"resend-section\" *ngIf=\"!carregando\">\r\n        <button \r\n          nz-button \r\n          nzType=\"link\" \r\n          nzSize=\"small\"\r\n          class=\"resend-btn\"\r\n          (click)=\"reenviarCodigo()\"\r\n          [nzLoading]=\"reenviando\">\r\n          <i nz-icon nzType=\"reload\" nzTheme=\"outline\"></i>\r\n          Reenviar código\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</app-default-login-layout>"],
  "mappings": "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",
  "names": []
}
