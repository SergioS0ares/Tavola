import{D as g}from"./chunk-KZ2VZQWD.js";import{f as n,ha as c,i as l,ma as s}from"./chunk-ZBUSQTZT.js";var u=(()=>{class e{constructor(a){this.http=a,this.googleMapsApiKey="AIzaSyCUDeZfumwzHU8nU1iPvX2s6C0tAZYEaxQ",this.geocoder=new google.maps.Geocoder}getCoordinatesFromAddress(a){return new l(o=>{this.geocoder.geocode({address:a},(t,r)=>{if(r===google.maps.GeocoderStatus.OK&&t&&t[0]){let i=t[0].geometry.location;o.next({lat:i.lat(),lng:i.lng()}),o.complete()}else o.error(`A geocodifica\xE7\xE3o falhou pelo seguinte motivo: ${r}`)})})}mostrarRotaNoGoogleMaps(a){return n(this,null,function*(){try{let o=yield this.obterLocalizacaoAtual();this.abrirGoogleMapsComRota(o,a)}catch{console.warn("N\xE3o foi poss\xEDvel obter a localiza\xE7\xE3o atual. Usando origem padr\xE3o (Goi\xE2nia).");let t={lat:-16.6869,lng:-49.2648};this.abrirGoogleMapsComRota(t,a)}})}obterLocalizacaoAtual(){return new Promise((a,o)=>{if(!navigator.geolocation)return o("Geolocaliza\xE7\xE3o n\xE3o \xE9 suportada pelo navegador.");navigator.geolocation.getCurrentPosition(t=>a({lat:t.coords.latitude,lng:t.coords.longitude}),()=>o("Erro ao obter localiza\xE7\xE3o."),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}abrirGoogleMapsComRota(a,o){let t=`https://www.google.com/maps/dir/?api=1&origin=${a.lat},${a.lng}&destination=${o.lat},${o.lng}&travelmode=driving`;window.open(t,"_blank")}static{this.\u0275fac=function(o){return new(o||e)(s(g))}}static{this.\u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{u as a};
