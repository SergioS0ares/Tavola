import{a as p}from"./chunk-BO4FG67G.js";import{D as h}from"./chunk-KZ2VZQWD.js";import{da as o,ha as l,m as i,na as u,u as n}from"./chunk-ZBUSQTZT.js";var C=(()=>{class s{constructor(){this.http=u(h),this.apiUrl=`${p.apiUrl}/auth/restaurantes`,this._allRestaurants=new i([]),this.allRestaurants$=this._allRestaurants.asObservable(),this._allCities=new i([]),this.allCities$=this._allCities.asObservable(),this._allCuisines=new i([]),this.allCuisines$=this._allCuisines.asObservable(),this.getRestaurantes().subscribe()}processAndSetRestaurantData(t){this._allRestaurants.next(t);let e=new Set,a=new Set;t.forEach(r=>{r.endereco?.cidade&&e.add(r.endereco.cidade),r.tipoCozinha&&a.add(r.tipoCozinha)}),this._allCities.next(Array.from(e).sort()),this._allCuisines.next(Array.from(a).sort())}getRestaurantes(){return this.http.get(this.apiUrl).pipe(o(t=>this.processAndSetRestaurantData(t)))}findById(t){return this.http.get(`${this.apiUrl}/${t}`)}getRestaurantImages(t){return n(["assets/jpg/restauranteModelo.jpg","assets/jpg/restauranteModelo.jpg","assets/jpg/restauranteModelo.jpg"])}criarReserva(t){return console.log("Mock: Criando reserva com dados:",t),n({success:!0,message:"Reserva mock criada com sucesso!"})}favoritarRestaurante(t){return this.http.post(`${this.apiUrl.replace("/auth/restaurantes","/auth/clientes/favoritar")}/${t}`,{})}updateRestaurante(t){return this.http.put(`${this.apiUrl}/update`,t)}deleteRestaurante(){return this.http.delete(`${this.apiUrl}`)}getRestaurantesPorCidade(t){return this.http.get(`${this.apiUrl}/por-cidade?cidade=${t}`)}getPesquisarRestaurantes(t,e=0,a=10){return this.http.get(`${this.apiUrl}/pesquisar?termo=${t}&pagina=${e}&tamanho=${a}`)}static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275prov=l({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{C as a};
