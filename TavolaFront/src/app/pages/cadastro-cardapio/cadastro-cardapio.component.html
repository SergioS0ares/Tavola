<!-- topo -->
<div class="top-bar">
  <h2>Cadastro de Cardápio</h2>
  <button
    mat-fab
    color="primary"
    class="fab-add"
    aria-label="Adicionar item"
    (click)="adicionar()">
    <mat-icon>add</mat-icon>
  </button>
</div>

<!-- grid de cards -->
<div class="grid">
  <mat-card *ngFor="let item of itens" class="card-item">
    <div class="card-image">
      <img mat-card-image [src]="item.imagemBase64 || defaultImg" alt="{{ item.nome }}" />
      <div class="card-tags">
        <span *ngFor="let tag of item.tags" class="tag">{{ tag }}</span>
      </div>
    </div>
    <mat-card-content>
      <div class="card-header">
        <h3>{{ item.nome }}</h3>
        <mat-slide-toggle
          [checked]="item.disponivel"
          (change)="toggleDisponibilidade(item)"
          color="primary">
          {{ item.disponivel ? 'Disponível' : 'Indisponível' }}
        </mat-slide-toggle>
      </div>
      <p class="descricao" *ngIf="item.descricao">{{ item.descricao }}</p>
      <div class="card-footer">
        <p class="preco">R$ {{ item.preco | number:'1.2-2' }}</p>
      </div>
    </mat-card-content>
    <button mat-icon-button class="more-button" [matMenuTriggerFor]="menu">
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="editar(item)">
        <mat-icon>edit</mat-icon><span>Editar</span>
      </button>
      <button mat-menu-item (click)="confirmarRemocao(item)">
        <mat-icon>delete</mat-icon><span>Remover</span>
      </button>
    </mat-menu>
  </mat-card>
</div>
