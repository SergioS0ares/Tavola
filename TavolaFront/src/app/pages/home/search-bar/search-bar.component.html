<form class="search-bar" (ngSubmit)="onSearch()" autocomplete="off">
  <div class="input-group" id="searchBarHome">
    <!-- Campo Cidade com Autocomplete -->
    <mat-form-field appearance="outline" class="custom-field location">
      <mat-icon matPrefix class="icon brown">location_on</mat-icon>
      <input matInput placeholder="Cidade" [ngModel]="cidade" (ngModelChange)="onCidadeChange($event)" name="cidade" required (focus)="showCityDropdown = true; showQueryDropdown = false" class="brown-text city-input" (input)="onCidadeInput($event)" (blur)="onCityBlur($event)">
    </mat-form-field>
    <div class="dropdown city-dropdown" *ngIf="showCityDropdown">
      <input class="dropdown-city-search" type="text" placeholder="Digite a cidade..." [ngModel]="cidade" (ngModelChange)="onCidadeChange($event); onCidadeInput($event)">
      <div class="dropdown-item brown-text highlight" (mousedown)="onSelectCity('Perto de mim')">
        <mat-icon class="icon brown">send</mat-icon> Perto de mim
      </div>
      <div class="dropdown-title">Sugestões</div>
      <div class="dropdown-item brown-text" *ngFor="let city of citySuggestions" (mousedown)="onSelectCity(city)">
        <mat-icon class="icon brown">location_on</mat-icon> {{city}}
      </div>
    </div>

    <!-- Campo Cozinha/Restaurante com Autocomplete -->
    <mat-form-field appearance="outline" class="custom-field query">
      <mat-icon matPrefix class="icon brown">search</mat-icon>
      <input matInput placeholder="Nome do restaurante..." [ngModel]="query" (ngModelChange)="onQueryChange($event)" name="query" (focus)="showQueryDropdown = true; showCityDropdown = false" style="font-style: italic; font-size: 0.98rem;" class="brown-text long-query">
      <div class="dropdown" *ngIf="showQueryDropdown">
        <div class="dropdown-item brown-text" *ngFor="let suggestion of querySuggestions" (mousedown)="onSelectQuery(suggestion)">{{suggestion}}</div>
      </div>
    </mat-form-field>

    <!-- Botão de busca -->
    <button class="search-btn" type="submit">
      PROCURAR
    </button>
  </div>
</form> 